CREATE TABLE IF NOT EXISTS `ACCESS_APPROVAL` (
  `ID` BIGINT NOT NULL,
  `ETAG` char(36) NOT NULL,
  `CREATED_BY` BIGINT NOT NULL,
  `CREATED_ON` BIGINT NOT NULL,
  `MODIFIED_BY` BIGINT NOT NULL,
  `MODIFIED_ON` BIGINT NOT NULL,
  `REQUIREMENT_ID` BIGINT NOT NULL,
  `REQUIREMENT_VERSION` BIGINT NOT NULL DEFAULT 0,
  `SUBMITTER_ID` BIGINT NOT NULL,
  `ACCESSOR_ID` BIGINT NOT NULL,
  `EXPIRED_ON` BIGINT NOT NULL DEFAULT 0,
  `STATE` ENUM('APPROVED', 'REVOKED') NOT NULL,
  PRIMARY KEY (`REQUIREMENT_ID`, `ACCESSOR_ID`, `REQUIREMENT_VERSION`, `SUBMITTER_ID`),
  UNIQUE KEY (`ID`),
  CONSTRAINT `ACCESS_APPROVAL_REQUIREMENT_ID_FK` FOREIGN KEY (`REQUIREMENT_ID`) REFERENCES `ACCESS_REQUIREMENT` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `ACCESS_APPROVAL_CREATED_BY_FK` FOREIGN KEY (`CREATED_BY`) REFERENCES `JDOUSERGROUP` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `ACCESS_APPROVAL_MODIFIED_BY_FK` FOREIGN KEY (`MODIFIED_BY`) REFERENCES `JDOUSERGROUP` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `ACCESS_APPROVAL_SUBMITTER_ID_FK` FOREIGN KEY (`SUBMITTER_ID`) REFERENCES `JDOUSERGROUP` (`ID`) ON DELETE CASCADE,
  CONSTRAINT `ACCESS_APPROVAL_ACCESSOR_ID_FK` FOREIGN KEY (`ACCESSOR_ID`) REFERENCES `JDOUSERGROUP` (`ID`) ON DELETE CASCADE,
  INDEX `ACCESS_APPROVAL_EXPIRED_ON_INDEX` (`EXPIRED_ON`)
)
